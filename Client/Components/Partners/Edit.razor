@page "/partners/{id:int}/edit"
@using Client.Services;
@using DataBase.Models;

@inject IPartnersService PartnersService

@if (partner is not null)
{
    <Form Partner="@partner" OnSubmit="@UpdatePartner"/>
}

@code {
    [Parameter]
    public int Id { get; set; }
    private Partner? partner;

    protected override async Task OnParametersSetAsync()
    {
        partner = await PartnersService.GetPartnerById(Id);
    }

    private async Task UpdatePartner() 
    {
        if (partner is null) return;
        await PartnersService.UpdatePartner(partner);
    }
}
