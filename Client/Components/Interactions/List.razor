@attribute [Authorize(Roles = "Cip")]
@using Client.Services.Api
@using Microsoft.AspNetCore.Authorization
@using Model
@using Model.Interactions
@inherits Client.Shared.List.SearchableStyledList<InteractionShort>

@page "/interactions"

@{
    base.BuildRenderTree(__builder);
}

@code {
    [Inject] private IInteractionsService InteractionService { get; set; } = null!;

    protected override Task<Paging<InteractionShort>> Load(string? text, int? skip, int? take)
    {
        return InteractionService.ReadAll(new InteractionsFilter(Code: text, Skip: skip, Take: take));
    }

    protected override string CreateHref => "/interactions/create";
    protected override string CreateText => "Добавить взаимодействие";

    protected override string RowHref(InteractionShort item)
    {
        return $"/interactions/{item.Id}";
    }

    protected override RenderFragment Filters => @<div></div>;

    protected override void ClearFilterFields()
    {

    }
}